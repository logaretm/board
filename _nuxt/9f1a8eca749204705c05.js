(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{243:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return m}),n.d(t,"i",function(){return v}),n.d(t,"l",function(){return y}),n.d(t,"m",function(){return O}),n.d(t,"p",function(){return _}),n.d(t,"q",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"e",function(){return x}),n.d(t,"j",function(){return M}),n.d(t,"k",function(){return j}),n.d(t,"o",function(){return R}),n.d(t,"r",function(){return k}),n.d(t,"h",function(){return S}),n.d(t,"n",function(){return C});var r=n(111),o=n(113),a=n(51),i=n(112),s=n(244),u=n.n(s),c=n(8),p=n(248),l=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"blockquote"},n.schema.get=function(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}},t.prototype.command=function(e){var t=e.type,n=e.schema;return Object(o.p)(t,n.nodes.paragraph)},t.prototype.keys=function(e){var t=e.type;return{"Ctrl->":Object(o.p)(t)}},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.s)(/^\s*>\s$/,t)]},Object.defineProperties(t.prototype,n),t}(r.d),f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"bullet_list"},n.schema.get=function(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}}},t.prototype.command=function(e){var t=e.type,n=e.schema;return Object(o.n)(t,n.nodes.list_item)},t.prototype.keys=function(e){var t=e.type,n=e.schema;return{"Shift-Ctrl-8":Object(o.n)(t,n.nodes.list_item)}},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.s)(/^\s*([-+*])\s$/,t)]},Object.defineProperties(t.prototype,n),t}(r.d),g=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"code_block"},n.schema.get=function(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}}},t.prototype.command=function(e){var t=e.type,n=e.schema;return Object(o.m)(t,n.nodes.paragraph)},t.prototype.keys=function(e){var t=e.type;return{"Shift-Ctrl-\\":Object(o.h)(t)}},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.l)(/^```$/,t)]},Object.defineProperties(t.prototype,n),t}(r.d);function d(e){var t=[],n=Object(i.findBlockNodes)(e).filter(function(e){return"code_block"===e.node.type.name}),r=function(e){return e.reduce(function(e,t){return e.concat(Array.isArray(t)?r(t):t)},[])};return n.forEach(function(e){var n=e.pos+1,o=u.a.highlightAuto(e.node.textContent).value;r(function e(t,n){return void 0===n&&(n=[]),t.map(function(t){var r=n.concat(t.properties?t.properties.className:[]);return t.children?e(t.children,r):{text:t.value,classes:r}})}(o)).map(function(e){var t=n,r=t+e.text.length;return n=r,Object.assign({},e,{from:t,to:r})}).forEach(function(e){var n=a.Decoration.inline(e.from,e.to,{class:e.classes.join(" ")});t.push(n)})}),a.DecorationSet.create(e,t)}!function(e){function t(t){void 0===t&&(t={}),e.call(this,t);try{Object.entries(this.options.languages).forEach(function(e){var t=e[0],n=e[1];u.a.registerLanguage(t,n)})}catch(e){throw new Error("Invalid syntax highlight definitions: define at least one highlight.js language mapping")}}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultOptions:{configurable:!0},name:{configurable:!0},schema:{configurable:!0},plugins:{configurable:!0}};n.defaultOptions.get=function(){return{languages:{}}},n.name.get=function(){return"code_block"},n.schema.get=function(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}}},t.prototype.command=function(e){var t=e.type,n=e.schema;return Object(o.m)(t,n.nodes.paragraph)},t.prototype.keys=function(e){var t=e.type;return{"Shift-Ctrl-\\":Object(o.h)(t)}},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.l)(/^```$/,t)]},n.plugins.get=function(){return[new r.e({state:{init:function(e,t){return d(t.doc)},apply:function(e,t){return e.docChanged?d(e.doc):t.map(e.mapping,e.doc)}},props:{decorations:function(e){return this.getState(e)}}})]},Object.defineProperties(t.prototype,n)}(r.d);var h=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"hard_break"},n.schema.get=function(){return{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},t.prototype.keys=function(e){var t=e.type,n=Object(o.a)(o.b,function(e,n){return n(e.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0});return{"Mod-Enter":n,"Shift-Enter":n}},Object.defineProperties(t.prototype,n),t}(r.d),m=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},defaultOptions:{configurable:!0},levels:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"heading"},n.defaultOptions.get=function(){return{maxLevel:6}},n.levels.get=function(){return Array.from(new Array(this.options.maxLevel),function(e,t){return t+1})},n.schema.get=function(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.levels.map(function(e){return{tag:"h"+e,attrs:{level:e}}}),toDOM:function(e){return["h"+e.attrs.level,0]}}},t.prototype.command=function(e){var t=e.type,n=e.schema,r=e.attrs;return Object(o.m)(t,n.nodes.paragraph,r)},t.prototype.keys=function(e){var t=e.type;return this.levels.reduce(function(e,n){var r;return Object.assign({},e,((r={})["Shift-Ctrl-"+n]=Object(o.h)(t,{level:n}),r))},{})},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.l)(new RegExp("^(#{1,"+this.options.maxLevel+"})\\s$"),t,function(e){return{level:e[1].length}})]},Object.defineProperties(t.prototype,n),t}(r.d),v=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0},plugins:{configurable:!0}};return n.name.get=function(){return"image"},n.schema.get=function(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){return["img",e.attrs]}}},t.prototype.command=function(e){var t=e.type,n=e.attrs;return function(e,r){var o=e.selection,a=o.$cursor?o.$cursor.pos:o.$to.pos,i=t.create(n);r(e.tr.insert(a,i))}},n.plugins.get=function(){return[new r.e({props:{handleDOMEvents:{drop:function(e,t){if(t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length){var n=Array.from(t.dataTransfer.files).filter(function(e){return/image/i.test(e.type)});if(0!==n.length){t.preventDefault();var r=e.state.schema,o=e.posAtCoords({left:t.clientX,top:t.clientY});n.forEach(function(t){var n=new FileReader;n.onload=function(t){var n=r.nodes.image.create({src:t.target.result}),a=e.state.tr.insert(o.pos,n);e.dispatch(a)},n.readAsDataURL(t)})}}}}}})]},Object.defineProperties(t.prototype,n),t}(r.d),y=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"list_item"},n.schema.get=function(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}},t.prototype.keys=function(e){var t=e.type;return{Enter:Object(o.j)(t),Tab:Object(o.i)(t),"Shift-Tab":Object(o.d)(t)}},Object.defineProperties(t.prototype,n),t}(r.d);function b(e){var t=e.matcher;void 0===t&&(t={char:"@",allowSpaces:!1,startOfLine:!1});var n=e.appendText;void 0===n&&(n=null);var r=e.suggestionClass;void 0===r&&(r="suggestion");var i=e.command;void 0===i&&(i=function(){return!1});var s=e.items;void 0===s&&(s=[]);var u=e.onEnter;void 0===u&&(u=function(){return!1});var p=e.onChange;void 0===p&&(p=function(){return!1});var l=e.onExit;void 0===l&&(l=function(){return!1});var f=e.onKeyDown;void 0===f&&(f=function(){return!1});var g=e.onFilter;return void 0===g&&(g=function(e,t){return t?e.filter(function(e){return JSON.stringify(e).toLowerCase().includes(t.toLowerCase())}):e}),new c.Plugin({key:new c.PluginKey("suggestions"),view:function(){var e=this;return{update:function(t,r){var a=e.key.getState(r),c=e.key.getState(t.state),f=a.active&&c.active&&a.range.from!==c.range.from,d=!a.active&&c.active,h=a.active&&!c.active,m=d||f,v=!d&&!h&&a.query!==c.query&&!f,y=h||f;if(m||v||y){var b=y?a:c,O=document.querySelector('[data-decoration-id="'+b.decorationId+'"]'),_=O?{getBoundingClientRect:function(){return O.getBoundingClientRect()},clientWidth:O.clientWidth,clientHeight:O.clientHeight}:null,E={view:t,range:b.range,query:b.query,text:b.text,decorationNode:O,virtualNode:_,items:g(Array.isArray(s)?s:s(),b.query),command:function(e){var r=e.range,a=e.attrs;i({range:r,attrs:a,schema:t.state.schema})(t.state,t.dispatch,t),n&&Object(o.c)(n)(t.state,t.dispatch,t)}};y&&l(E),v&&p(E),m&&u(E)}}}},state:{init:function(){return{active:!1,range:{},query:null,text:null}},apply:function(e,n){var r=e.selection,o=Object.assign({},n);if(r.from===r.to){(r.from<n.range.from||r.from>n.range.to)&&(o.active=!1);var a=r.$from,i=function(e){var t=e.char;void 0===t&&(t="@");var n=e.allowSpaces;void 0===n&&(n=!1);var r=e.startOfLine;return void 0===r&&(r=!1),function(e){for(var o,a=new RegExp("\\s"+t+"$"),i=r?"^":"",s=n?new RegExp(""+i+t+".*?(?=\\s"+t+"|$)","gm"):new RegExp(i+"(?:^)?"+t+"[^\\s"+t+"]*","gm"),u=e.before(),c=e.end(),p=e.doc.textBetween(u,c,"\0","\0"),l=s.exec(p);null!==l;){var f=l.input.slice(Math.max(0,l.index-1),l.index);if(/^[\s\0]?$/.test(f)){var g=l.index+e.start(),d=g+l[0].length;n&&a.test(p.slice(d-1,d+1))&&(l[0]+=" ",d+=1),g<e.pos&&d>=e.pos&&(o={range:{from:g,to:d},query:l[0].slice(t.length),text:l[0]})}l=s.exec(p)}return o}}(t)(a),s=(Math.random()+1).toString(36).substr(2,5);i?(o.active=!0,o.decorationId=n.decorationId?n.decorationId:s,o.range=i.range,o.query=i.query,o.text=i.text):o.active=!1}else o.active=!1;return o.active||(o.decorationId=null,o.range={},o.query=null,o.text=null),o}},props:{handleKeyDown:function(e,t){var n=this.getState(e.state),r=n.active,o=n.range;return!!r&&f({view:e,event:t,range:o})},decorations:function(e){var t=this.getState(e),n=t.active,o=t.range,i=t.decorationId;return n?a.DecorationSet.create(e.doc,[a.Decoration.inline(o.from,o.to,{nodeName:"span",class:r,"data-decoration-id":i})]):null}}})}!function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},defaultOptions:{configurable:!0},schema:{configurable:!0},plugins:{configurable:!0}};n.name.get=function(){return"mention"},n.defaultOptions.get=function(){return{matcher:{char:"@",allowSpaces:!1,startOfLine:!1},mentionClass:"mention",suggestionClass:"mention-suggestion"}},n.schema.get=function(){var e=this;return{attrs:{id:{},label:{}},group:"inline",inline:!0,selectable:!1,atom:!0,toDOM:function(t){return["span",{class:e.options.mentionClass,"data-mention-id":t.attrs.id},""+e.options.matcher.char+t.attrs.label]},parseDOM:[{tag:"span[data-mention-id]",getAttrs:function(t){return{id:t.getAttribute("data-mention-id"),label:t.innerText.split(e.options.matcher.char).join("")}}}]}},n.plugins.get=function(){return[b({command:function(e){var t=e.range,n=e.attrs,r=e.schema;return Object(o.g)(t,r.nodes.mention,n)},appendText:" ",matcher:this.options.matcher,items:this.options.items,onEnter:this.options.onEnter,onChange:this.options.onChange,onExit:this.options.onExit,onKeyDown:this.options.onKeyDown,onFilter:this.options.onFilter,suggestionClass:this.options.suggestionClass})]},Object.defineProperties(t.prototype,n)}(r.d);var O=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"ordered_list"},n.schema.get=function(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:function(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1}}}],toDOM:function(e){return 1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}},t.prototype.command=function(e){var t=e.type,n=e.schema;return Object(o.n)(t,n.nodes.list_item)},t.prototype.keys=function(e){var t=e.type,n=e.schema;return{"Shift-Ctrl-9":Object(o.n)(t,n.nodes.list_item)}},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.s)(/^(\d+)\.\s$/,t,function(e){return{order:+e[1]}},function(e,t){return t.childCount+t.attrs.order===+e[1]})]},Object.defineProperties(t.prototype,n),t}(r.d),_=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},view:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"todo_item"},n.view.get=function(){return{props:["node","updateAttrs","editable"],methods:{onChange:function(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n\t\t\t\t<li data-type="todo_item" :data-done="node.attrs.done.toString()">\n\t\t\t\t\t<span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n\t\t\t\t\t<div class="todo-content" ref="content" :contenteditable="editable.toString()"></div>\n\t\t\t\t</li>\n\t\t\t'}},n.schema.get=function(){return{attrs:{done:{default:!1}},draggable:!1,content:"paragraph",toDOM:function(e){return["li",{"data-type":"todo_item","data-done":e.attrs.done.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:'[data-type="todo_item"]',getAttrs:function(e){return{done:"true"===e.getAttribute("data-done")}}}]}},t.prototype.keys=function(e){var t=e.type;return{Enter:Object(o.k)(t),"Shift-Tab":Object(o.d)(t)}},Object.defineProperties(t.prototype,n),t}(r.d),E=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"todo_list"},n.schema.get=function(){return{group:"block",content:"todo_item+",toDOM:function(){return["ul",{"data-type":"todo_list"},0]},parseDOM:[{priority:51,tag:'[data-type="todo_list"]'}]}},t.prototype.command=function(e){var t=e.type;return Object(o.r)(t)},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.s)(/^\s*(\[ \])\s$/,t)]},Object.defineProperties(t.prototype,n),t}(r.d),w=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"bold"},n.schema.get=function(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}}},t.prototype.keys=function(e){var t=e.type;return{"Mod-b":Object(o.o)(t)}},t.prototype.command=function(e){var t=e.type;return Object(o.o)(t)},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.e)(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,t)]},Object.defineProperties(t.prototype,n),t}(r.c),x=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"code"},n.schema.get=function(){return{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}},t.prototype.keys=function(e){var t=e.type;return{"Mod-`":Object(o.o)(t)}},t.prototype.command=function(e){var t=e.type;return Object(o.o)(t)},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.e)(/(?:`)([^`]+)(?:`)$/,t)]},Object.defineProperties(t.prototype,n),t}(r.c),M=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"italic"},n.schema.get=function(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}}},t.prototype.keys=function(e){var t=e.type;return{"Mod-i":Object(o.o)(t)}},t.prototype.command=function(e){var t=e.type;return Object(o.o)(t)},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.e)(/(?:^|[^*_])(?:\*|_)([^*_]+)(?:\*|_)$/,t)]},Object.defineProperties(t.prototype,n),t}(r.c),j=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"link"},n.schema.get=function(){return{attrs:{href:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href")}}}],toDOM:function(e){return["a",Object.assign({},e.attrs,{rel:"noopener noreferrer nofollow"}),0]}}},t.prototype.command=function(e){var t=e.type,n=e.attrs;return n.href?Object(o.q)(t,n):Object(o.f)(t)},Object.defineProperties(t.prototype,n),t}(r.c),R=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"strike"},n.schema.get=function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e}}],toDOM:function(){return["s",0]}}},t.prototype.keys=function(e){var t=e.type;return{"Mod-d":Object(o.o)(t)}},t.prototype.command=function(e){var t=e.type;return Object(o.o)(t)},t.prototype.inputRules=function(e){var t=e.type;return[Object(o.e)(/~([^~]+)~$/,t)]},Object.defineProperties(t.prototype,n),t}(r.c),k=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},schema:{configurable:!0}};return n.name.get=function(){return"underline"},n.schema.get=function(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e}}],toDOM:function(){return["u",0]}}},t.prototype.keys=function(e){var t=e.type;return{"Mod-u":Object(o.o)(t)}},t.prototype.command=function(e){var t=e.type;return Object(o.o)(t)},Object.defineProperties(t.prototype,n),t}(r.c),S=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},plugins:{configurable:!0}};return n.name.get=function(){return"history"},t.prototype.keys=function(){var e="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),t={"Mod-z":p.undo,"Shift-Mod-z":p.redo};return e||(t["Mod-y"]=p.redo),t},n.plugins.get=function(){return[Object(p.history)()]},Object.defineProperties(t.prototype,n),t}(r.b),C=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={name:{configurable:!0},defaultOptions:{configurable:!0},plugins:{configurable:!0}};return n.name.get=function(){return"placeholder"},n.defaultOptions.get=function(){return{emptyNodeClass:"is-empty"}},n.plugins.get=function(){var e=this;return[new r.e({props:{decorations:function(t){var n=t.doc,r=[],o=""===n.textContent&&n.childCount<=1&&n.content.size<=2;return n.descendants(function(t,n){if(o){var i=a.Decoration.node(n,n+t.nodeSize,{class:e.options.emptyNodeClass});r.push(i)}}),a.DecorationSet.create(n,r)}}})]},Object.defineProperties(t.prototype,n),t}(r.b)},244:function(e,t,n){"use strict";var r=n(245),o=n(246);function a(){}a.prototype=r;var i=new a;e.exports=i,i.highlight=function(e,t,n){var r=(n||{}).prefix;null==r&&(r=p);return x(w(e,t,!0,r))},i.highlightAuto=_,i.registerLanguage=function(e,t){var n=t(i);b[e]=n,y.push(e),n.aliases&&E(e,n.aliases)},i.registerAlias=E,i.getLanguage=R;var s=r.inherit,u={}.hasOwnProperty,c=[].concat,p="hljs-",l="case_insensitive",f="cached_variants",g=" ",d="|",h="element",m="text",v="span",y=[],b={},O={};function _(e,t){var n,r,a,i,s=t||{},u=s.subset||y,c=s.prefix,l=u.length,f=-1;if(null==c&&(c=p),"string"!=typeof e)throw o("Expected `string` for value, got `%s`",e);for(r=x({}),n=x({});++f<l;)R(i=u[f])&&((a=x(w(i,e,!1,c))).language=i,a.relevance>r.relevance&&(r=a),a.relevance>n.relevance&&(r=n,n=a));return r.language&&(n.secondBest=r),n}function E(e,t){var n,r,o,a,i=e;for(n in t&&((i={})[e]=t),i)for(o=(r="string"==typeof(r=i[n])?[r]:r).length,a=-1;++a<o;)O[r[a]]=n}function w(e,t,n,r,a){var i,p,y,O,E,x,k,S,C={},D=[],N="",A=0;if("string"!=typeof e)throw o("Expected `string` for name, got `%s`",e);if("string"!=typeof t)throw o("Expected `string` for value, got `%s`",t);if(i=R(e),y=p=a||i,O=S=[],!i)throw o("Unknown language: `%s` is not registered",e);!function(e){function t(t,r){return new RegExp(n(t),"m"+(e[l]?"i":"")+(r?"g":""))}function n(e){return e&&e.source||e}!function r(o,a){var i={};var u;if(o.compiled)return;o.compiled=!0;o.keywords=o.keywords||o.beginKeywords;o.keywords&&("string"==typeof o.keywords?p("keyword",o.keywords):Object.keys(o.keywords).forEach(function(e){p(e,o.keywords[e])}),o.keywords=i);o.lexemesRe=t(o.lexemes||/\w+/,!0);a&&(o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(g).join(d)+")\\b"),o.begin||(o.begin=/\B|\b/),o.beginRe=t(o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(o.endRe=t(o.end)),o.terminatorEnd=n(o.end)||"",o.endsWithParent&&a.terminatorEnd&&(o.terminatorEnd+=(o.end?d:"")+a.terminatorEnd));o.illegal&&(o.illegalRe=t(o.illegal));void 0===o.relevance&&(o.relevance=1);o.contains||(o.contains=[]);o.contains=c.apply([],o.contains.map(function(e){return function(e){var t,n,r,o;if(e.variants&&!e[f]){for(r=e.variants,t=r.length,n=-1,o=[];++n<t;)o[n]=s(e,{variants:null},r[n]);e[f]=o}return e[f]||(e.endsWithParent?[s(e)]:[e])}("self"===e?o:e)}));o.contains.forEach(function(e){r(e,o)});o.starts&&r(o.starts,a);u=o.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([o.terminatorEnd,o.illegal]).map(n).filter(Boolean);o.terminators=0===u.length?{exec:j}:t(u.join(d),!0);function p(t,n){var r,o,a,s;for(e[l]&&(n=n.toLowerCase()),r=n.split(g),s=r.length,a=-1;++a<s;)o=r[a].split(d),i[o[0]]=[t,o[1]?Number(o[1]):1]}}(e)}(i);try{for(p.terminators.lastIndex=0,E=0,k=p.terminators.exec(t);k;)x=I(t.substring(E,k.index),k[0]),E=k.index+x,p.terminators.lastIndex=E,k=p.terminators.exec(t);for(I(t.substr(E)),y=p;y.parent;)y.className&&U(),y=y.parent;return{relevance:A,value:O,language:e,top:p}}catch(e){if(-1===e.message.indexOf("Illegal"))throw e;return{relevance:0,value:B(t,[])}}function I(e,t){var r,a,i;if(N+=e,void 0===t)return T(P(),O),0;if(r=function(e,t){var n=t.contains,r=n.length,o=-1;for(;++o<r;)if(M(n[o].beginRe,e))return n[o]}(t,p))return T(P(),O),L(r,t),r.returnBegin?0:t.length;if(a=function e(t,n){if(M(t.endRe,n)){for(;t.endsParent&&t.parent;)t=t.parent;return t}if(t.endsWithParent)return e(t.parent,n)}(p,t)){(i=p).returnEnd||i.excludeEnd||(N+=t),T(P(),O);do{p.className&&U(),A+=p.relevance,p=p.parent}while(p!==a.parent);return i.excludeEnd&&B(t,O),N="",a.starts&&L(a.starts,""),i.returnEnd?0:t.length}if(function(e,t){return!n&&M(t.illegalRe,e)}(t,p))throw o('Illegal lexeme "%s" for mode "%s"',t,p.className||"<unnamed>");return N+=t,t.length||1}function L(e,t){var n;e.className&&(n=H(e.className,[])),e.returnBegin?N="":e.excludeBegin?(B(t,O),N=""):N=t,n&&(O.push(n),D.push(O),O=n.children),p=Object.create(e,{parent:{value:p}})}function P(){var e=p.subLanguage?function(){var e,t="string"==typeof p.subLanguage;if(t&&!b[p.subLanguage])return B(N,[]);e=t?w(p.subLanguage,N,!0,r,C[p.subLanguage]):_(N,{subset:0===p.subLanguage.length?void 0:p.subLanguage,prefix:r});p.relevance>0&&(A+=e.relevance);t&&(C[p.subLanguage]=e.top);return[H(e.language,e.value,!0)]}():function(){var e,t,n,r,o=[];if(!p.keywords)return B(N,o);e=0,p.lexemesRe.lastIndex=0,t=p.lexemesRe.exec(N);for(;t;)B(N.substring(e,t.index),o),(r=$(p,t))?(A+=r[1],n=H(r[0],[]),o.push(n),B(t[0],n.children)):B(t[0],o),e=p.lexemesRe.lastIndex,t=p.lexemesRe.exec(N);return B(N.substr(e),o),o}();return N="",e}function T(e,t){for(var n,r=e.length,o=-1;++o<r;)(n=e[o]).type===m?B(n.value,t):t.push(n)}function B(e,t){var n;return e&&((n=t[t.length-1])&&n.type===m?n.value+=e:t.push(function(e){return{type:m,value:e}}(e))),t}function H(e,t,n){return{type:h,tagName:v,properties:{className:[(n?"":r)+e]},children:t}}function $(e,t){var n=t[0];return i[l]&&(n=n.toLowerCase()),u.call(e.keywords,n)&&e.keywords[n]}function U(){O=D.pop()||S}}function x(e){return{relevance:e.relevance||0,language:e.language||null,value:e.value||[]}}function M(e,t){var n=e&&e.exec(t);return n&&0===n.index}function j(){return null}function R(e){return e=e.toLowerCase(),b[e]||b[O[e]]}},245:function(e,t,n){!function(e){"object"==typeof window&&window||"object"==typeof self&&self;(function(e){var t=[],n=Object.keys,r={},o={},a=/^(no-?highlight|plain|text)$/i,i=/\blang(?:uage)?-([\w-]+)\b/i,s=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,u="</span>",c={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function p(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function l(e){return e.nodeName.toLowerCase()}function f(e,t){var n=e&&e.exec(t);return n&&0===n.index}function g(e){return a.test(e)}function d(e){var t,n={},r=Array.prototype.slice.call(arguments,1);for(t in e)n[t]=e[t];return r.forEach(function(e){for(t in e)n[t]=e[t]}),n}function h(e){var t=[];return function e(n,r){for(var o=n.firstChild;o;o=o.nextSibling)3===o.nodeType?r+=o.nodeValue.length:1===o.nodeType&&(t.push({event:"start",offset:r,node:o}),r=e(o,r),l(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:o}));return r}(e,0),t}function m(e){function t(e){return e&&e.source||e}function r(n,r){return new RegExp(t(n),"m"+(e.case_insensitive?"i":"")+(r?"g":""))}!function o(a,i){if(a.compiled)return;a.compiled=!0;a.keywords=a.keywords||a.beginKeywords;if(a.keywords){var s={},u=function(t,n){e.case_insensitive&&(n=n.toLowerCase()),n.split(" ").forEach(function(e){var n=e.split("|");s[n[0]]=[t,n[1]?Number(n[1]):1]})};"string"==typeof a.keywords?u("keyword",a.keywords):n(a.keywords).forEach(function(e){u(e,a.keywords[e])}),a.keywords=s}a.lexemesRe=r(a.lexemes||/\w+/,!0);i&&(a.beginKeywords&&(a.begin="\\b("+a.beginKeywords.split(" ").join("|")+")\\b"),a.begin||(a.begin=/\B|\b/),a.beginRe=r(a.begin),a.endSameAsBegin&&(a.end=a.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(a.endRe=r(a.end)),a.terminator_end=t(a.end)||"",a.endsWithParent&&i.terminator_end&&(a.terminator_end+=(a.end?"|":"")+i.terminator_end));a.illegal&&(a.illegalRe=r(a.illegal));null==a.relevance&&(a.relevance=1);a.contains||(a.contains=[]);a.contains=Array.prototype.concat.apply([],a.contains.map(function(e){return function(e){e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(t){return d(e,{variants:null},t)}));return e.cached_variants||e.endsWithParent&&[d(e)]||[e]}("self"===e?a:e)}));a.contains.forEach(function(e){o(e,a)});a.starts&&o(a.starts,i);var c=a.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([a.terminator_end,a.illegal]).map(t).filter(Boolean);a.terminators=c.length?r(c.join("|"),!0):{exec:function(){return null}}}(e)}function v(e,t,n,o){function a(e,t){var n=d.case_insensitive?t[0].toLowerCase():t[0];return e.keywords.hasOwnProperty(n)&&e.keywords[n]}function i(e,t,n,r){var o=r?"":c.classPrefix,a='<span class="'+o,i=n?"":u;return(a+=e+'">')+t+i}function s(){_+=null!=b.subLanguage?function(){var e="string"==typeof b.subLanguage;if(e&&!r[b.subLanguage])return p(w);var t=e?v(b.subLanguage,w,!0,O[b.subLanguage]):y(w,b.subLanguage.length?b.subLanguage:void 0);b.relevance>0&&(x+=t.relevance);e&&(O[b.subLanguage]=t.top);return i(t.language,t.value,!1,!0)}():function(){var e,t,n,r;if(!b.keywords)return p(w);r="",t=0,b.lexemesRe.lastIndex=0,n=b.lexemesRe.exec(w);for(;n;)r+=p(w.substring(t,n.index)),(e=a(b,n))?(x+=e[1],r+=i(e[0],p(n[0]))):r+=p(n[0]),t=b.lexemesRe.lastIndex,n=b.lexemesRe.exec(w);return r+p(w.substr(t))}(),w=""}function l(e){_+=e.className?i(e.className,"",!0):"",b=Object.create(e,{parent:{value:b}})}function g(e,t){if(w+=e,null==t)return s(),0;var r=function(e,t){var n,r;for(n=0,r=t.contains.length;n<r;n++)if(f(t.contains[n].beginRe,e))return t.contains[n].endSameAsBegin&&(t.contains[n].endRe=(o=t.contains[n].beginRe.exec(e)[0],new RegExp(o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"m"))),t.contains[n];var o}(t,b);if(r)return r.skip?w+=t:(r.excludeBegin&&(w+=t),s(),r.returnBegin||r.excludeBegin||(w=t)),l(r),r.returnBegin?0:t.length;var o=function e(t,n){if(f(t.endRe,n)){for(;t.endsParent&&t.parent;)t=t.parent;return t}if(t.endsWithParent)return e(t.parent,n)}(b,t);if(o){var a=b;a.skip?w+=t:(a.returnEnd||a.excludeEnd||(w+=t),s(),a.excludeEnd&&(w=t));do{b.className&&(_+=u),b.skip||b.subLanguage||(x+=b.relevance),b=b.parent}while(b!==o.parent);return o.starts&&(o.endSameAsBegin&&(o.starts.endRe=o.endRe),l(o.starts)),a.returnEnd?0:t.length}if(function(e,t){return!n&&f(t.illegalRe,e)}(t,b))throw new Error('Illegal lexeme "'+t+'" for mode "'+(b.className||"<unnamed>")+'"');return w+=t,t.length||1}var d=E(e);if(!d)throw new Error('Unknown language: "'+e+'"');m(d);var h,b=o||d,O={},_="";for(h=b;h!==d;h=h.parent)h.className&&(_=i(h.className,"",!0)+_);var w="",x=0;try{for(var M,j,R=0;b.terminators.lastIndex=R,M=b.terminators.exec(t);)j=g(t.substring(R,M.index),M[0]),R=M.index+j;for(g(t.substr(R)),h=b;h.parent;h=h.parent)h.className&&(_+=u);return{relevance:x,value:_,language:e,top:b}}catch(e){if(e.message&&-1!==e.message.indexOf("Illegal"))return{relevance:0,value:p(t)};throw e}}function y(e,t){t=t||c.languages||n(r);var o={relevance:0,value:p(e)},a=o;return t.filter(E).filter(w).forEach(function(t){var n=v(t,e,!1);n.language=t,n.relevance>a.relevance&&(a=n),n.relevance>o.relevance&&(a=o,o=n)}),a.language&&(o.second_best=a),o}function b(e){return c.tabReplace||c.useBR?e.replace(s,function(e,t){return c.useBR&&"\n"===e?"<br>":c.tabReplace?t.replace(/\t/g,c.tabReplace):""}):e}function O(e){var n,r,a,s,u,f=function(e){var t,n,r,o,a=e.className+" ";if(a+=e.parentNode?e.parentNode.className:"",n=i.exec(a))return E(n[1])?n[1]:"no-highlight";for(a=a.split(/\s+/),t=0,r=a.length;t<r;t++)if(g(o=a[t])||E(o))return o}(e);g(f)||(c.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):n=e,u=n.textContent,a=f?v(f,u,!0):y(u),(r=h(n)).length&&((s=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=a.value,a.value=function(e,n,r){var o=0,a="",i=[];function s(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function u(e){a+="<"+l(e)+t.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+p(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function c(e){a+="</"+l(e)+">"}function f(e){("start"===e.event?u:c)(e.node)}for(;e.length||n.length;){var g=s();if(a+=p(r.substring(o,g[0].offset)),o=g[0].offset,g===e){i.reverse().forEach(c);do{f(g.splice(0,1)[0]),g=s()}while(g===e&&g.length&&g[0].offset===o);i.reverse().forEach(u)}else"start"===g[0].event?i.push(g[0].node):i.pop(),f(g.splice(0,1)[0])}return a+p(r.substr(o))}(r,h(s),u)),a.value=b(a.value),e.innerHTML=a.value,e.className=function(e,t,n){var r=t?o[t]:n,a=[e.trim()];e.match(/\bhljs\b/)||a.push("hljs");-1===e.indexOf(r)&&a.push(r);return a.join(" ").trim()}(e.className,f,a.language),e.result={language:a.language,re:a.relevance},a.second_best&&(e.second_best={language:a.second_best.language,re:a.second_best.relevance}))}function _(){if(!_.called){_.called=!0;var e=document.querySelectorAll("pre code");t.forEach.call(e,O)}}function E(e){return e=(e||"").toLowerCase(),r[e]||r[o[e]]}function w(e){var t=E(e);return t&&!t.disableAutodetect}e.highlight=v,e.highlightAuto=y,e.fixMarkup=b,e.highlightBlock=O,e.configure=function(e){c=d(c,e)},e.initHighlighting=_,e.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",_,!1),addEventListener("load",_,!1)},e.registerLanguage=function(t,n){var a=r[t]=n(e);a.aliases&&a.aliases.forEach(function(e){o[e]=t})},e.listLanguages=function(){return n(r)},e.getLanguage=E,e.autoDetection=w,e.inherit=d,e.IDENT_RE="[a-zA-Z]\\w*",e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},e.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.COMMENT=function(t,n,r){var o=e.inherit({className:"comment",begin:t,end:n,contains:[]},r||{});return o.contains.push(e.PHRASAL_WORDS_MODE),o.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),o},e.C_LINE_COMMENT_MODE=e.COMMENT("//","$"),e.C_BLOCK_COMMENT_MODE=e.COMMENT("/\\*","\\*/"),e.HASH_COMMENT_MODE=e.COMMENT("#","$"),e.NUMBER_MODE={className:"number",begin:e.NUMBER_RE,relevance:0},e.C_NUMBER_MODE={className:"number",begin:e.C_NUMBER_RE,relevance:0},e.BINARY_NUMBER_MODE={className:"number",begin:e.BINARY_NUMBER_RE,relevance:0},e.CSS_NUMBER_MODE={className:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}]},e.TITLE_MODE={className:"title",begin:e.IDENT_RE,relevance:0},e.UNDERSCORE_TITLE_MODE={className:"title",begin:e.UNDERSCORE_IDENT_RE,relevance:0},e.METHOD_GUARD={begin:"\\.\\s*"+e.UNDERSCORE_IDENT_RE,relevance:0}})(t)}()},246:function(e,t,n){"use strict";var r=n(247),o=a(Error);function a(e){return t.displayName=e.displayName||e.name,t;function t(t){return t&&(t=r.apply(null,arguments)),new e(t)}}e.exports=o,o.eval=a(EvalError),o.range=a(RangeError),o.reference=a(ReferenceError),o.syntax=a(SyntaxError),o.type=a(TypeError),o.uri=a(URIError),o.create=a},247:function(e,t,n){!function(){var t;function n(e){for(var t,n,r,o,a=1,i=[].slice.call(arguments),s=0,u=e.length,c="",p=!1,l=!1,f=function(){return i[a++]},g=function(){for(var n="";/\d/.test(e[s]);)n+=e[s++],t=e[s];return n.length>0?parseInt(n):null};s<u;++s)if(t=e[s],p)switch(p=!1,"."==t?(l=!1,t=e[++s]):"0"==t&&"."==e[s+1]?(l=!0,t=e[s+=2]):l=!0,o=g(),t){case"b":c+=parseInt(f(),10).toString(2);break;case"c":"string"==typeof(n=f())||n instanceof String?c+=n:c+=String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(f(),10);break;case"f":r=String(parseFloat(f()).toFixed(o||6)),c+=l?r:r.replace(/^0/,"");break;case"j":c+=JSON.stringify(f());break;case"o":c+="0"+parseInt(f(),10).toString(8);break;case"s":c+=f();break;case"x":c+="0x"+parseInt(f(),10).toString(16);break;case"X":c+="0x"+parseInt(f(),10).toString(16).toUpperCase();break;default:c+=t}else"%"===t?p=!0:c+=t;return c}(t=e.exports=n).format=n,t.vsprintf=function(e,t){return n.apply(null,[e].concat(t))},"undefined"!=typeof console&&"function"==typeof console.log&&(t.printf=function(){console.log(n.apply(null,arguments))})}()},248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(249))&&"object"==typeof r&&"default"in r?r.default:r,a=n(26),i=n(8),s=function(e,t){this.items=e,this.eventCount=t};s.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,a=this.items.length;;a--){if(n.items.get(a-1).selection){--a;break}}t&&(r=this.remapping(a,this.items.length),o=r.maps.length);var i,c,p=e.tr,l=[],f=[];return this.items.forEach(function(e,t){if(!e.step)return r||(r=n.remapping(a,t+1),o=r.maps.length),o--,void f.push(e);if(r){f.push(new u(e.map));var g,d=e.step.map(r.slice(o));d&&p.maybeStep(d).doc&&(g=p.mapping.maps[p.mapping.maps.length-1],l.push(new u(g,null,null,l.length+f.length))),o--,g&&r.appendMap(g,o)}else p.maybeStep(e.step);return e.selection?(i=r?e.selection.map(r.slice(o)):e.selection,c=new s(n.items.slice(0,a).append(f.reverse().concat(l)),n.eventCount-1),!1):void 0},this.items.length,0),{remaining:c,transform:p,selection:i}},s.prototype.addTransform=function(e,t,n,r){for(var o=[],a=this.eventCount,i=this.items,c=!r&&i.length?i.get(i.length-1):null,l=0;l<e.steps.length;l++){var f,g=e.steps[l].invert(e.docs[l]),d=new u(e.mapping.maps[l],g,t);(f=c&&c.merge(d))&&(d=f,l?o.pop():i=i.slice(0,i.length-1)),o.push(d),t&&(a++,t=null),r||(c=d)}var h,m,v,y=a-n.depth;return y>p&&(m=y,(h=i).forEach(function(e,t){if(e.selection&&0==m--)return v=t,!1}),i=h.slice(v),a-=y),new s(i.append(o),a)},s.prototype.remapping=function(e,t){var n=new a.Mapping;return this.items.forEach(function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?o=n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)},e,t),n},s.prototype.addMaps=function(e){return 0==this.eventCount?this:new s(this.items.append(e.map(function(e){return new u(e)})),this.eventCount)},s.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,a=e.steps.length,i=this.eventCount;this.items.forEach(function(e){e.selection&&i--},r);var c=t;this.items.forEach(function(t){var r=o.getMirror(--c);if(null!=r){a=Math.min(a,r);var s=o.maps[r];if(t.step){var p=e.steps[r].invert(e.docs[r]),l=t.selection&&t.selection.map(o.slice(c,r));l&&i++,n.push(new u(s,p,l))}else n.push(new u(s))}},r);for(var p=[],l=t;l<a;l++)p.push(new u(o.maps[l]));var f=this.items.slice(0,r).append(p).append(n),g=new s(f,i);return g.emptyItemCount()>500&&(g=g.compress(this.items.length-n.length)),g},s.prototype.emptyItemCount=function(){var e=0;return this.items.forEach(function(t){t.step||e++}),e},s.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],a=0;return this.items.forEach(function(o,i){if(i>=e)r.push(o),o.selection&&a++;else if(o.step){var s=o.step.map(t.slice(n)),c=s&&s.getMap();if(n--,c&&t.appendMap(c,n),s){var p=o.selection&&o.selection.map(t.slice(n));p&&a++;var l,f=new u(c.invert(),s,p),g=r.length-1;(l=r.length&&r[g].merge(f))?r[g]=l:r.push(f)}}else o.map&&n--},this.items.length,0),new s(o.from(r.reverse()),a)},s.empty=new s(o.empty,0);var u=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};u.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new u(t.getMap().invert(),t,this.selection)}};var c=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},p=20;function l(e){var t=[];return e.forEach(function(e,n,r,o){return t.push(r,o)}),t}function f(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),a=t.map(e[r+1],-1);o<=a&&n.push(o,a)}return n}function g(e,t,n,r){var o=m(t),a=v.get(t).spec.config,i=(r?e.undone:e.done).popEvent(t,o);if(i){var s=i.selection.resolve(i.transform.doc),u=(r?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),a,o),p=new c(r?u:i.remaining,r?i.remaining:u,null,0);n(i.transform.setSelection(s).setMeta(v,{redo:r,historyState:p}).scrollIntoView())}}var d=!1,h=null;function m(e){var t=e.plugins;if(h!=t){d=!1,h=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){d=!0;break}}return d}var v=new i.PluginKey("history"),y=new i.PluginKey("closeHistory");t.HistoryState=c,t.closeHistory=function(e){return e.setMeta(y,!0)},t.history=function(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new i.Plugin({key:v,state:{init:function(){return new c(s.empty,s.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,a=n.getMeta(v);if(a)return a.historyState;n.getMeta(y)&&(e=new c(e.done,e.undone,null,0));var i=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(i&&i.getMeta(v))return i.getMeta(v).redo?new c(e.done.addTransform(n,null,r,m(t)),e.undone,l(n.mapping.maps[n.steps.length-1]),e.prevTime):new c(e.done,e.undone.addTransform(n,null,r,m(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||i&&!1===i.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new c(e.done.rebased(n,o),e.undone.rebased(n,o),f(e.prevRanges,n.mapping),e.prevTime):new c(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),f(e.prevRanges,n.mapping),e.prevTime);var u=e.prevTime<(n.time||0)-r.newGroupDelay||!i&&!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach(function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}(n,e.prevRanges),p=i?f(e.prevRanges,n.mapping):l(n.mapping.maps[n.steps.length-1]);return new c(e.done.addTransform(n,u?t.selection.getBookmark():null,r,m(t)),s.empty,p,n.time)}(n,r,t,e)}},config:e})},t.undo=function(e,t){var n=v.getState(e);return!(!n||0==n.done.eventCount||(t&&g(n,e,t,!1),0))},t.redo=function(e,t){var n=v.getState(e);return!(!n||0==n.undone.eventCount||(t&&g(n,e,t,!0),0))},t.undoDepth=function(e){var t=v.getState(e);return t?t.done.eventCount:0},t.redoDepth=function(e){var t=v.getState(e);return t?t.undone.eventCount:0}},249:function(e,t){var n=function(){};n.prototype.append=function(e){return e.length?(e=n.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},n.prototype.prepend=function(e){return e.length?n.from(e).append(this):this},n.prototype.appendInner=function(e){return new o(this,e)},n.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?n.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},n.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},n.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},n.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},n.from=function(e){return e instanceof n?e:e&&e.length?new r(e):n.empty};var r=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{},depth:{}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(n);n.empty=new r([]);var o=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(n);e.exports=n}}]);